package com.eseteam9.shoppyapp;

import android.content.ContentValues;
import android.database.sqlite.SQLiteDatabase;

public class UserHandler extends AbstractHandler{
	private static final LocalDatabaseHandler DB = 
	
    public static final String TABLE_NAME = "users";
    
    public static final String KEY_ID = "id";
    public static final String KEY_NAME = "name";
    public static final String KEY_KEY = "key";
	
	public static void onCreate(SQLiteDatabase db) {
		String CREATE_TABLE = "CREATE TABLE " + TABLE_NAME + "("
                + KEY_ID + " INTEGER PRIMARY KEY AUTOINCREMENT," + KEY_NAME + " TEXT,"
                + KEY_KEY + " TEXT" + ")";
        db.execSQL(CREATE_TABLE);
	}
	
	public static void dropTable(SQLiteDatabase db) {
		db.execSQL("DROP TABLE IF EXISTS " + TABLE_NAME);
	}
	
    public void add(User user) {
        SQLiteDatabase db = dbHandler.getWritableDatabase();

        ContentValues values = new ContentValues();
        values.put(U_KEY_NAME, user.name);
        values.put(U_KEY_KEY, user.key);

        db.insert(TABLE_USERS, null, values);
        db.close();
    }
}
